@model IEnumerable<G13WebApplication.Models.Activity>
@using System.Security.Claims;
@{
    ViewData["Title"] = "Index";

}

<head>
    <link rel="stylesheet" href="~/css/varios.css" />
</head>

<div class="container text-center container-custom">
    <div class="row h-50 index-row-top">
        <div class="col h-100 col-custom rounded col1">
            <div class="card-body">
                <h5 class="card-title" style="margin-top:1%">Escolher Tipo de TFC</h5>
                <p class="card-text">Efetuar escolha entre Estágio ou Projeto como Trabalho Final de Curso.</p>
                <a class="btn btn-primary btn-white-custom" asp-controller="WorkPlans" asp-action="ChooseTfc">Escolher</a>
            </div>
        </div>
        <div class="col h-100 col-custom rounded col2" style="margin-left: 4%;">
            <div class="card-body">
                <h5 class="card-title" style="margin-top:1%">Escolher Docente Orientador</h5>
                <p class="card-text">Escolha do(s) Docente(s) Orientador(es) para o Trabalho Final de Curso.</p>
                <a class="btn btn-primary btn-gold-custom" asp-controller="Students" asp-action="SearchDO">Escolher</a>
            </div>
        </div>
    </div>
    <div class="row h-50 rounded index-row-end">
        <div class="col h-100 col-custom rounded col3">
            <div class="card-body">
                <h5 class="card-title" style="margin-top:1%">Próximas Actividades</h5>
                @if (Model.Count() == 1)
                {   
                    <p></p>
                    <a class="card-text a-custom" style="font-size:0.79em" asp-controller="Activities" asp-action="Details" asp-route-id="@Model.First().ActivityId">@Html.DisplayFor(model => model.First().ActivityType) - @Html.DisplayFor(model => model.First().DateT)</a>        
                    <p class="card-text" style="font-size:0.79em; margin-top:1%">Para mais detalhes, visite a agenda!</p>
                }
                @if (Model.Count() == 2)
                {
                    int count = 0;
                    foreach (var item in Model)
                    {               
                        <a class="card-text a-custom" style="font-size:0.79em" asp-controller="Activities" asp-action="Details" asp-route-id="@item.ActivityId">@Html.DisplayFor(modelItem => item.ActivityType) - @Html.DisplayFor(modelItem => item.DateT)</a>
                        count++;
                        if (count < 2) {
                            <p style="margin-top:-3.4%"></p>
                        }
                    }
                    <p></p>
                }
                @if (Model.Count() == 0)
                {
                    <p class="card-text" style="font-size:0.79em">Para já, não tem atividades marcadas!</p>
                    <p class="card-text" style="font-size:0.79em">Quando tiver, serão listadas aqui!</p>
                }
                <a class="btn btn-primary btn-blue-custom" asp-controller="Activities" asp-action="Index">Agenda</a>
            </div>
        </div>
        <div class="col h-100 col-custom rounded col4" style="margin-left: 4%;">
            <div class="card-body">
                <h5 class="card-title" style="margin-top:1%">Escolher Estágio/Projeto</h5>
                <p class="card-text">Aceder à lista de Estágios/Projetos para ver propostas.</p>
                <a class="btn btn-primary btn-white-gold-custom" asp-controller="Tfcs" asp-action="Index">Propostas</a>
            </div>
        </div>
    </div>
</div>


